{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Config",
  "type": "object",
  "properties": {
    "apiAccessToken": {
      "description": "API token to use for authentication with the server",
      "type": [
        "string",
        "null"
      ]
    },
    "apiUrl": {
      "description": "URL of the ODF-compatible API server that will execute requests",
      "type": "string",
      "format": "uri",
      "default": "http://localhost:8080/"
    },
    "blocksStride": {
      "description": "Number of blocks to examine per one getLogs RPC request when catching up",
      "type": "integer",
      "format": "uint64",
      "default": 100000,
      "minimum": 0
    },
    "chainId": {
      "description": "ID of the chain used during signing to prevent replay attacks",
      "type": "integer",
      "format": "uint64",
      "default": 0,
      "minimum": 0
    },
    "httpAddress": {
      "description": "Interface to listen for HTTP admin traffic on",
      "type": "string",
      "default": "127.0.0.1"
    },
    "httpPort": {
      "description": "Port to listen for HTTP admin traffic on",
      "type": "integer",
      "format": "uint16",
      "default": 0,
      "maximum": 65535,
      "minimum": 0
    },
    "ignoreConsumers": {
      "description": "Consumer addresses to ignore requests from (use as a disaster recovery\nmechanism only)",
      "type": "array",
      "default": [],
      "items": {
        "type": "string"
      }
    },
    "ignoreRequests": {
      "description": "Request IDs that provider should skip over (use as a disaster recovery\nmechanism only)",
      "type": "array",
      "default": [],
      "items": {
        "type": "integer",
        "format": "uint64",
        "minimum": 0
      }
    },
    "loopIdleTime": {
      "description": "Time to sleep while waiting for new blocks",
      "$ref": "#/$defs/DurationString",
      "default": "1s"
    },
    "oracleContractAddress": {
      "description": "Address of the oracle contract to read logs from",
      "type": "string",
      "combine": "replace"
    },
    "providerAddress": {
      "description": "Address of this provider's account to use when submitting transactions",
      "type": "string",
      "combine": "replace"
    },
    "providerPrivateKey": {
      "description": "Private key of the provider to use when signing transactions.",
      "type": "string"
    },
    "rpcUrl": {
      "description": "Ethereum-compatible JSON-RPC address",
      "type": "string",
      "format": "uri",
      "default": "http://localhost:8545/"
    },
    "scanFromBlock": {
      "description": "Block number to start scanning from on startup (precedence:\nscan_from_block, scan_last_blocks, scan_last_blocks_period)",
      "type": [
        "integer",
        "null"
      ],
      "format": "uint64",
      "minimum": 0
    },
    "scanLastBlocks": {
      "description": "Number of last blocks to scan on startup (precedence: scan_from_block,\nscan_last_blocks, scan_last_blocks_period)",
      "type": [
        "integer",
        "null"
      ],
      "format": "uint64",
      "minimum": 0
    },
    "scanLastBlocksPeriod": {
      "description": "Time period in which blocks will be scanned on startup (precedence:\nscan_from_block, scan_last_blocks, scan_last_blocks_period)",
      "anyOf": [
        {
          "$ref": "#/$defs/DurationString"
        },
        {
          "type": "null"
        }
      ]
    },
    "transactionConfirmations": {
      "description": "Number of confirmations to await before considering transaction included",
      "type": "integer",
      "format": "uint64",
      "minimum": 0
    },
    "transactionTimeout": {
      "description": "Timeout when submitting a transaction",
      "$ref": "#/$defs/DurationString",
      "default": "1m"
    }
  },
  "additionalProperties": false,
  "required": [
    "oracleContractAddress",
    "providerAddress",
    "providerPrivateKey",
    "transactionConfirmations"
  ],
  "$defs": {
    "DurationString": {
      "type": "string"
    }
  }
}